<app-sort *ngIf="page === 'shop'"></app-sort>
<div class="row justify-content-between mr-5 ml-3 mt-3 mb-4">
  <div *ngIf="page !== 'shop'">
    <h3>Product Details</h3>
  </div>
  <div
    class="row search-bar"
    style="align-items: center"
    [ngClass]="{ 'search-bar-position': page === 'shop' }"
  >
    <input
      class="search-input"
      type="text"
      name=""
      placeholder="Search Product"
      [(ngModel)]="searchItem"
    />
    <a href="#" class="search_icon"
      ><i class="fa fa-search fa-lg" aria-hidden="true"></i
    ></a>
  </div>
</div>

<div
  class="row justify-content-lg-even"
  style="flex-wrap: wrap"
  [ngClass]="{ 'mt-5': page === 'shop', 'ml-2': page === 'shop' }"
>
  <!-- Total number of users card shadow -->
  <div
    *ngFor="let product of products | filter: searchItem"
    class="card-holder"
    [ngClass]="{
      'm-4': page !== 'shop',
      'm-2': page === 'shop',
      'mr-4': page === 'shop',
      'shadow-sm': page === 'shop',
      shadow: page !== 'shop',
      'bg-success': page !== 'shop',
      'list-view': listView
    }"
  >
    <div
      class="card text-white"
      [ngClass]="{
        'card-height-24': page !== 'shop',
        'm-3': page !== 'shop',
        'card-height-20': page === 'shop',
        'm-2': page === 'shop'
      }"
    >
      <img
        [src]="product.image"
        alt=""
        srcset=""
        class="product-img"
        style="height: inherit"
      />
      <div class="action_links" style="border-radius: 0 5px">
        <ul>
          <li *ngIf="page !== 'shop'">
            <a
              ><img
                src="../../../../assets/icons/trash.png"
                alt=""
                srcset=""
                style="height: 17px"
                placement="top"
                ngbTooltip="Delete"
            /></a>
          </li>
          <li *ngIf="page !== 'shop'">
            <a
              ><img
                (click)="onEdit()"
                src="../../../../assets/icons/edit.png"
                alt=""
                srcset=""
                style="height: 17px"
                placement="top"
                ngbTooltip="Edit"
            /></a>
          </li>
          <li *ngIf="page !== 'shop'">
            <a
              ><img
                (click)="onView()"
                src=" ../../../../assets/icons/icons8-eye-24.png"
                alt=""
                srcset=""
                style="height: 17px"
                placement="top"
                ngbTooltip="View"
            /></a>
          </li>
          <li *ngIf="page === 'shop'">
            <a placement="top" ngbTooltip="Cart">
              <i
                class="fa fa-shopping-cart fa-lg"
                aria-hidden="true"
                style="height: 17px; color: black"
              ></i
            ></a>
          </li>
        </ul>
      </div>
    </div>
    <div
      [ngClass]="{
        'name-price-section-list-view': listView,
        row: !listView,
        'name-price-section': !listView
      }"
    >
      <p style="margin-bottom: 0 !important" class="product-name">
        {{ product.name }}
      </p>
      <p style="color: rgb(173, 173, 3)">Rs. {{ product.price }}</p>
      <p *ngIf="listView">{{ product.description }}</p>
      <p *ngIf="listView">In Stock: {{ product.quantity }}</p>
      <p *ngIf="listView" style="cursor: pointer;">
        Tags:
        <span
          class="p-2 text-light mr-2"
          style="background-color: #335af4da; border-radius: 24px; font-size: medium;"
          ><i>{{ product.category_name | titlecase }}</i></span
        >
        <span
          class="p-2 text-light"
          style="background-color: #335af4da; border-radius: 24px; font-size: medium;"
        >
          <i>{{ product.subcategory_name | titlecase }}</i></span
        >
      </p>
    </div>
  </div>
</div>

<app-product-add-edit-form></app-product-add-edit-form>
<app-product-details-form></app-product-details-form>
